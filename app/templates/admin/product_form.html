{% extends "base.html" %}
{% block title %}{{ '編輯商品' if product else '新增商品' }}{% endblock %}
{% block content %}
<div class="container py-3">
  <div class="card">
    <div class="card-header">
      <h4 class="mb-0">{{ '編輯商品' if product else '新增商品' }}</h4>
    </div>
    <div class="card-body">
      <form method="post">
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">商店 *</label>
            <select name="store_id" class="form-select" required>
              <option value="">請選擇商店</option>
              {% for store in stores %}
                <option value="{{ store.id }}" {% if product and product.store_id == store.id %}selected{% endif %}>
                  {{ store.name }} ({{ store.domain }})
                </option>
              {% endfor %}
            </select>
            <div class="form-text">選擇此商品所屬的商店</div>
          </div>
          <div class="col-md-6">
            <label class="form-label">商品名稱 *</label>
            <input class="form-control" name="name" value="{{ product.name if product }}" required />
          </div>
          <div class="col-md-6">
            <label class="form-label">分類 *</label>
            <input class="form-control" name="catalog" value="{{ product.catalog if product }}" required />
          </div>
          <div class="col-12">
            <label class="form-label">簡介</label>
            <textarea class="form-control" name="descriptions" rows="3" placeholder="商品簡短描述...">{{ product.descriptions if product }}</textarea>
          </div>
          <div class="col-12">
            <label class="form-label">詳細說明</label>
            <textarea class="form-control" name="detail" rows="4" placeholder="商品詳細規格、材質、保固等...">{{ product.detail if product }}</textarea>
          </div>
          <div class="col-12">
            <label class="form-label">圖片URL</label>
            <input class="form-control" name="picture" value="{{ product.picture if product }}" placeholder="https://example.com/image.jpg" />
            <div class="form-text">支援 JPG、PNG、GIF 等格式</div>
          </div>
        </div>
        <div class="mt-4 d-flex gap-2">
          <button class="btn btn-primary" type="submit">
            <i class="bi bi-save"></i> {{ '更新' if product else '新增' }}
          </button>
          <a href="{{ url_for('admin_products') }}" class="btn btn-secondary">
            <i class="bi bi-arrow-left"></i> 返回
          </a>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}